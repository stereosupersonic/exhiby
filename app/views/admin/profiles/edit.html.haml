%div{ data: { testid: "admin-profile-edit" } }
  .row.justify-content-center
    .col-md-6
      .card
        .card-header
          %h4.mb-0= t("admin.profile.title")

        .card-body
          - if @user.errors.any?
            .alert.alert-danger
              %ul.mb-0
                - @user.errors.full_messages.each do |message|
                  %li= message

          = form_with model: @user, url: admin_profile_path, method: :patch, class: "needs-validation" do |f|
            .mb-3
              = f.label :email_address, t("admin.profile.form.email_address"), class: "form-label"
              = f.email_field :email_address, class: "form-control", disabled: true

            %hr.my-4

            %h5.mb-3= t("admin.profile.form.change_password")

            .mb-3
              = label_tag :current_password, t("admin.profile.form.current_password"), class: "form-label"
              = password_field_tag :current_password, nil, class: "form-control", required: true, autocomplete: "current-password", data: { testid: "current-password" }

            .mb-3
              = f.label :password, t("admin.profile.form.new_password"), class: "form-label"
              = f.password_field :password, class: "form-control", required: true, autocomplete: "new-password", data: { testid: "new-password" }

            .mb-3
              = f.label :password_confirmation, t("admin.profile.form.password_confirmation"), class: "form-label"
              = f.password_field :password_confirmation, class: "form-control", required: true, autocomplete: "new-password", data: { testid: "password-confirmation" }

            .d-flex.justify-content-between.align-items-center
              = link_to t("common.cancel"), admin_root_path, class: "btn btn-outline-secondary"
              = f.submit t("admin.profile.form.submit"), class: "btn btn-primary", data: { testid: "submit-password" }
