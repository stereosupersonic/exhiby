.admin-collection-categories{ data: { testid: "admin-collection-categories" } }
  .d-flex.justify-content-between.align-items-center.mb-4
    %h1{ data: { testid: "collection-categories-heading" } }= t("admin.collection_categories.index.title")
    = link_to t("admin.collection_categories.index.new_category"), new_admin_collection_category_path, class: "btn btn-primary", data: { testid: "new-collection-category-button" }

  %p.text-muted.mb-4= t("admin.collection_categories.index.description")

  .card
    .card-body
      - if @collection_categories.any?
        .table-responsive
          %table.table.table-hover{ data: { testid: "collection-categories-table" } }
            %thead
              %tr
                %th{ style: "width: 60px;" }= t("admin.collection_categories.index.table.position")
                %th= t("admin.collection_categories.index.table.name")
                %th= t("admin.collection_categories.index.table.collections_count")
                %th= t("admin.collection_categories.index.table.actions")
            %tbody
              - @collection_categories.each do |category|
                %tr{ data: { testid: "collection-category-row-#{category.slug}" } }
                  %td= category.position
                  %td= category.name
                  %td= category.collections_count
                  %td
                    .d-flex.gap-2
                      = link_to t("common.edit"), edit_admin_collection_category_path(category), class: "btn btn-sm btn-outline-primary", data: { testid: "edit-collection-category-#{category.slug}" }
                      = button_to t("common.delete"), admin_collection_category_path(category), method: :delete, class: "btn btn-sm btn-outline-danger", data: { turbo_confirm: t("admin.collection_categories.index.actions.delete_confirm"), testid: "delete-collection-category-#{category.slug}" }
        = will_paginate @collection_categories if @collection_categories.respond_to?(:total_pages)
      - else
        .text-center.text-muted.py-4{ data: { testid: "no-collection-categories-message" } }
          %p= t("admin.collection_categories.index.no_categories")
          = link_to t("admin.collection_categories.index.new_category"), new_admin_collection_category_path, class: "btn btn-primary"
