.admin-articles{ data: { testid: "admin-articles" } }
  .d-flex.justify-content-between.align-items-center.mb-4
    %h1{ data: { testid: "articles-heading" } }= t("admin.articles.index.title")
    = link_to t("admin.articles.index.new_article"), new_admin_article_path, class: "btn btn-primary", data: { testid: "new-article-button" }

  .card
    .card-body
      - if @articles.any?
        .table-responsive
          %table.table.table-hover{ data: { testid: "articles-table" } }
            %thead
              %tr
                %th= t("admin.articles.index.table.title")
                %th= t("admin.articles.index.table.status")
                %th= t("admin.articles.index.table.author")
                %th= t("admin.articles.index.table.created_at")
                %th= t("admin.articles.index.table.actions")
            %tbody
              - @articles.each do |article|
                - presenter = ArticlePresenter.new(article)
                %tr{ data: { testid: "article-row-#{article.slug}" } }
                  %td= link_to article.title, admin_article_path(article)
                  %td
                    %span.badge{ class: presenter.status_badge_class }
                      = presenter.status_name
                  %td= presenter.author_name
                  %td= l(article.created_at, format: :short)
                  %td
                    .d-flex.gap-2
                      = link_to t("admin.articles.index.actions.edit"), edit_admin_article_path(article), class: "btn btn-sm btn-outline-primary", data: { testid: "edit-article-#{article.slug}" }
                      = button_to t("admin.articles.index.actions.delete"), admin_article_path(article), method: :delete, class: "btn btn-sm btn-outline-danger", data: { turbo_confirm: t("admin.articles.index.actions.delete_confirm"), testid: "delete-article-#{article.slug}" }
      - else
        .text-center.text-muted.py-4{ data: { testid: "no-articles-message" } }
          %p= t("admin.articles.index.no_articles")
          = link_to t("admin.articles.index.new_article"), new_admin_article_path, class: "btn btn-primary"
