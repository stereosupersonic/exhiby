- content_for :title, @article.title
- content_for :meta_description, truncate_for_meta(@article.content.to_plain_text)
- content_for :og_type, "article"
- if @article.cover_media_item&.file&.attached?
  - content_for :og_image, url_for(@article.cover_media_item.file.variant(resize_to_limit: [1200, 630]))

= render "shared/site_header", active: :archiv

%section.article-section{ data: { testid: "article-section" } }
  .container.py-5
    .mb-4
      = link_to t("articles.show.back"), articles_path, class: "btn btn-outline-secondary btn-sm"

    %article.article-content{ data: { testid: "article-content" } }
      %h1.mb-3{ data: { testid: "article-title" } }= @article.title

      - if @article.published_at.present?
        .article-meta.mb-4.text-muted
          %span{ data: { testid: "article-published-at" } }
            = t("articles.show.published_at", date: l(@article.published_at, format: :long))

      - if @article.cover_media_item&.file&.attached?
        .article-cover-image.mb-4
          = render "shared/zoomable_image", image: @article.cover_media_item.file.variant(resize_to_limit: [800, 400]), full_image_url: url_for(@article.cover_media_item.file), title: @article.title, image_class: "img-fluid rounded"

      .article-body{ data: { testid: "article-body" } }
        = @article.content

    .mt-5.pt-4.border-top
      = link_to t("articles.show.back"), articles_path, class: "btn btn-outline-primary"
