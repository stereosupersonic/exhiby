- content_for :title, t("seo.pages.home.title")
- content_for :meta_description, t("seo.pages.home.description")

= render "shared/site_header", active: :willkommen

-# Hero Section with Background Image
%section.hero-section{ style: "background-image: url('#{image_path('design/background-pic-top-b-3.jpg')}')", data: { testid: "hero-section" } }
  .hero-overlay
    .container
      %h1.hero-title
        OnlineMuseum Wartenberg –
        %br
        ein Ort für Kunst und Kulturgeschichte

-# Welcome Content
%section.welcome-section{ data: { testid: "welcome-section" } }
  .container
    .text-center.py-2
      %h2.section-title Über uns
      %p.section-subtitle
        %em
          Kommen Sie mit auf eine Entdeckungsreise und erfahren Sie mehr über unsere Marktgemeinde
          anhand vieler digitalisierter Exponate von Kunstwerken, Fotografien, Postkarten und
          weiteren Archivalien.
    %hr

    .text-center.py-2
      %p.section-subtitle
        %em
          Das OnlineMuseum Wartenberg bewahrt und präsentiert die kulturelle Vielfalt unserer Region.
          Entdecken Sie historische Schätze, lokale Künstler und die Geschichte unserer Gemeinde
          in einer digitalen Sammlung, die stetig wächst.

- if @recent_articles.any?
  %section.articles-preview{ data: { testid: "recent-articles-section" } }
    .container
      .text-center.py-5
        %h2.section-title= t("welcome.recent_articles.title")

      - @recent_articles.each do |article|
        - presenter = ArticlePresenter.new(article)
        .article-item.py-4{ data: { testid: "recent-article-card-#{article.slug}" } }
          .row
            - if article.cover_media_item&.file&.attached?
              .col-md-2
                = link_to article_path(article.slug) do
                  = image_tag article.cover_media_item.file.variant(resize_to_limit: [400, 300]), class: "img-fluid", alt: article.title
              .col-md-10
                %h4
                  = link_to article.title, article_path(article.slug), class: "text-decoration-none"
                - if article.published_at.present?
                  %p.text-muted= presenter.formatted_published_at_short
                .article-excerpt
                  = presenter.excerpt(length: 1000)
                .mt-3
                  = link_to t("articles.index.read_more"), article_path(article.slug), class: "btn btn-sm btn-outline-primary"
            - else
              .col-12
                %h4
                  = link_to article.title, article_path(article.slug), class: "text-decoration-none"
                - if article.published_at.present?
                  %p.text-muted= presenter.formatted_published_at_short
                .article-excerpt
                  = presenter.excerpt(length: 300)
                .mt-3
                  = link_to t("articles.index.read_more"), article_path(article.slug), class: "btn btn-sm btn-outline-primary"
        %hr
      .text-center.py-4
        = link_to t("welcome.recent_articles.view_all"), articles_path, class: "btn btn-primary", data: { testid: "view-all-articles" }
