%nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
  .container
    = link_to "Exhiby", root_path, class: "navbar-brand"
    %button.navbar-toggler{ type: "button", data: { bs_toggle: "collapse", bs_target: "#navbarNav" }, aria: { controls: "navbarNav", expanded: "false", label: "Toggle navigation" } }
      %span.navbar-toggler-icon
    #navbarNav.collapse.navbar-collapse
      %ul.navbar-nav.ms-auto
        %li.nav-item
          %span.nav-link.text-light{ data: { testid: "user-email" } }= Current.user.email_address
        %li.nav-item
          = button_to "Sign Out", session_path, method: :delete, class: "btn btn-outline-light btn-sm ms-2", data: { testid: "sign-out-button" }

.container.py-5
  .row
    .col-12
      %h1.mb-4{ data: { testid: "dashboard-heading" } } Dashboard

      .card.shadow-sm.mb-4
        .card-body
          %h5.card-title Welcome, #{Current.user.email_address}!
          %p.card-text.text-muted
            You are signed in as
            %span.badge.bg-primary{ data: { testid: "user-role" } }= Current.user.role

      - if Current.user.admin?
        .card.shadow-sm.mb-4.border-primary
          .card-header.bg-primary.text-white
            %h6.mb-0 Admin Panel
          .card-body
            %p.card-text You have full administrative access to all features.

      - elsif Current.user.editor?
        .card.shadow-sm.mb-4.border-info
          .card-header.bg-info.text-white
            %h6.mb-0 Editor Panel
          .card-body
            %p.card-text You can manage content and your profile.
